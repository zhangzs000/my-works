<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>执行一次once</title>
	<style type="text/css">

	</style>
</head>
<body>
</body>
<script type="text/javascript">
function once(fn){
  return function(...args){
    if(fn){
      let ret = fn.apply(this, args);
      fn = null;
      return ret;
    }
  }
}

function foo(idx){
  console.log(`I'm called:${idx}`);
}

foo(0);
foo(1);
foo(2);

foo = once(foo);

foo(3);
foo(4);
foo(5);
</script>
</html>